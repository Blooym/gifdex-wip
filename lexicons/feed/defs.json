{
  "lexicon": 1,
  "id": "net.gifdex.feed.defs",
  "defs": {
    "postView": {
      "type": "object",
      "description": "Detailed view of a post, including author information and engagement metrics.",
      "required": [
        "uri",
        "author",
        "title",
        "media",
        "favouriteCount",
        "viewer",
        "createdAt",
        "indexedAt"
      ],
      "properties": {
        "uri": {
          "type": "string",
          "format": "at-uri"
        },
        "author": {
          "type": "ref",
          "ref": "net.gifdex.actor.defs#profileViewBasic"
        },
        "title": {
          "type": "string"
        },
        "media": {
          "type": "ref",
          "ref": "#postViewMedia"
        },
        "favouriteCount": {
          "type": "integer"
        },
        "tags": {
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "viewer": {
          "type": "ref",
          "ref": "#viewerState"
        },
        "createdAt": {
          "type": "string",
          "format": "datetime"
        },
        "editedAt": {
          "type": "string",
          "format": "datetime"
        },
        "indexedAt": {
          "type": "string",
          "format": "datetime"
        }
      }
    },
    "postFeedView": {
      "type": "object",
      "description": "Feed-optimized view of a post with all metadata needed for display in timelines.",
      "required": [
        "uri",
        "author",
        "title",
        "media",
        "favouriteCount",
        "viewer",
        "createdAt",
        "indexedAt"
      ],
      "properties": {
        "uri": {
          "type": "string",
          "format": "at-uri"
        },
        "author": {
          "type": "ref",
          "ref": "net.gifdex.actor.defs#profileViewBasic"
        },
        "title": {
          "type": "string"
        },
        "media": {
          "type": "ref",
          "ref": "#postViewMedia"
        },
        "favouriteCount": {
          "type": "integer"
        },
        "tags": {
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "viewer": {
          "type": "ref",
          "ref": "#viewerState"
        },
        "createdAt": {
          "type": "string",
          "format": "datetime"
        },
        "editedAt": {
          "type": "string",
          "format": "datetime"
        },
        "indexedAt": {
          "type": "string",
          "format": "datetime"
        }
      }
    },
    "postViewMedia": {
      "type": "object",
      "description": "A post's media content with alongside its dimensions data",
      "required": ["fullsizeUrl", "thumbnailUrl", "mimeType", "dimensions"],
      "properties": {
        "thumbnailUrl": {
          "type": "string",
          "format": "uri"
        },
        "fullsizeUrl": {
          "type": "string",
          "format": "uri"
        },
        "alt": {
          "type": "string"
        },
        "mimeType": {
          "type": "string"
        },
        "dimensions": {
          "type": "ref",
          "ref": "#postViewMediaDimensions"
        }
      }
    },
    "postViewMediaDimensions": {
      "type": "object",
      "description": "Width and height of a post's media.",
      "required": ["width", "height"],
      "properties": {
        "width": {
          "type": "integer"
        },
        "height": {
          "type": "integer"
        }
      }
    },
    "viewerState": {
      "type": "object",
      "description": "Metadata about the requesting account's relationship with the subject content. Only has meaningful content for authed requests.",
      "properties": {
        "favourite": {
          "type": "string",
          "format": "tid"
        }
      }
    }
  }
}
